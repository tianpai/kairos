appId: com.kairos.app
productName: Kairos
copyright: Copyright Â© 2025

directories:
  output: dist
  buildResources: build

files:
  - out/**/*
  - package.json
  - node_modules/**/*
  - "!node_modules/**/*.ts"
  - "!node_modules/**/*.map"
  - "!node_modules/**/test/**"
  - "!node_modules/**/tests/**"
  - "!node_modules/**/__tests__/**"
  - "!node_modules/**/docs/**"
  - "!node_modules/**/*.md"

# Native module handling for better-sqlite3
npmRebuild: true
buildDependenciesFromSource: true

asarUnpack:
  - "node_modules/better-sqlite3/**/*"

asar: true

mac:
  category: public.app-category.productivity
  target:
    - dmg
    - zip
  icon: build/icon.icns
  hardenedRuntime: true
  gatekeeperAssess: false
  notarize: true

dmg:
  writeUpdateInfo: true

win:
  target:
    - nsis
    - portable
  icon: build/icon.ico

linux:
  target:
    - AppImage
    - deb
  icon: build/icon.png
  category: Office

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  deleteAppDataOnUninstall: false

publish:
  provider: github
  owner: tianpai
  repo: kairos
